<launch>
    <group ns="recognition/road_recognizer">
        <arg name="hz" default="10"/>
        <arg name="normal_estimation_radius" default="0.60"/>
        <arg name="leaf_size" default="0.30"/>
        <arg name="outlier_removal_k" default="50"/>
        <arg name="outlier_removal_threshold" default="1.0"/>
        <!--arg name="curvature_threshold" default="0.005"/-->
        <arg name="curvature_threshold" default="0.90"/>
        <arg name="intensity_upper_threshold" default="255"/>
        <arg name="intensity_lower_threshold" default="20"/>
        <arg name="height_threshold" default="0.0"/>

        <arg name="store_num" default="100"/>
        <arg name="position_difference_threshold" default="0.1"/>
        <arg name="yaw_difference_threshold" default="0.1"/>

        <node pkg="road_recognizer" type="road_cloud_publisher" name="road_cloud_publisher">
            <param name="HZ" value="$(arg hz)"/>
            <param name="NORMAL_ESTIMATION_RADIUS" value="$(arg normal_estimation_radius)"/>
            <param name="LEAF_SIZE" value="$(arg leaf_size)"/>
            <param name="OUTLIER_REMOVAL_K" value="$(arg outlier_removal_k)"/>
            <param name="OUTLIER_REMOVAL_THRESHOLD" value="$(arg outlier_removal_threshold)"/>
            <param name="CURVATURE_THRESHOLD" value="$(arg curvature_threshold)"/>
            <param name="INTENSITY_UPPER_THRESHOLD" value="$(arg intensity_upper_threshold)"/>
            <param name="INTENSITY_LOWER_THRESHOLD" value="$(arg intensity_lower_threshold)"/>
            <param name="HEIGHT_THRESHOLD" value="$(arg height_threshold)"/>
        </node>

        <node pkg="road_recognizer" type="road_point_cloud_storer" name="road_point_cloud_storer">
            <param name="HZ" value="$(arg hz)"/>
            <param name="STORE_NUM" value="$(arg store_num)"/>
            <param name="POSITION_DIFFERENCE_THRESHOLD" value="$(arg position_difference_threshold)"/>
            <param name="YAW_DIFFERENCE_THRESHOLD" value="$(arg yaw_difference_threshold)"/>
        </node>

        <node pkg="road_recognizer" type="road_recognizer" name="road_recognizer">
            <param name="HZ" value="$(arg hz)"/>
            <param name="LEAF_SIZE" value="$(arg leaf_size)"/>
        </node>

    </group>

</launch>
